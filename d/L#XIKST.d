BEGIN L#XIKST

CHAIN IF ~Global("L#XIKRevealArea","GLOBAL",0)~ THEN L#XIKST ST.00
@0
END
IF~~THEN REPLY @1 EXTERN L#XIKST ST.01
IF~~THEN REPLY @2 EXTERN L#XIKST ST.01
IF~~THEN REPLY @3 EXTERN L#XIKST ST.02

CHAIN L#XIKST ST.01
@4
==L#XIKST @5
==L#XIKST @6
END
IF~~THEN REPLY @7 EXTERN L#XIKST ST.03
IF~~THEN REPLY @8 EXTERN L#XIKST ST.03
IF~~THEN REPLY @9 EXTERN L#XIKST ST.03
IF~~THEN REPLY @10 EXTERN L#XIKST ST.02

CHAIN L#XIKST ST.03
@11
==L#XIKST @12
==L#XIKST @13
==L#XIKST @14
END
IF~~THEN REPLY @15 EXTERN L#XIKST ST.04
IF~~THEN REPLY @16 EXTERN L#XIKST ST.02

CHAIN L#XIKST ST.04
@17
==L#XIKST @18
DO ~~ 
==L#XIKST @19
==L#XIKST @20
==L#XIKST @21
DO ~SetGlobal("L#XIKRevealArea","GLOBAL",1) RevealAreaOnMap("L#XI01") EscapeArea()~ EXIT

CHAIN L#XIKST ST.02
@22
EXIT

